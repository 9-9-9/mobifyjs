(function(){var e,t,r;(function(n){function i(e,t){return x.call(e,t)}function o(e,t){var r,n,i,o,a,c,s,u,l,d,p=t&&t.split("/"),f=y.map,h=f&&f["*"]||{};if(e&&"."===e.charAt(0))if(t){for(p=p.slice(0,p.length-1),e=p.concat(e.split("/")),u=0;e.length>u;u+=1)if(d=e[u],"."===d)e.splice(u,1),u-=1;else if(".."===d){if(1===u&&(".."===e[2]||".."===e[0]))break;u>0&&(e.splice(u-1,2),u-=2)}e=e.join("/")}else 0===e.indexOf("./")&&(e=e.substring(2));if((p||h)&&f){for(r=e.split("/"),u=r.length;u>0;u-=1){if(n=r.slice(0,u).join("/"),p)for(l=p.length;l>0;l-=1)if(i=f[p.slice(0,l).join("/")],i&&(i=i[n])){o=i,a=u;break}if(o)break;!c&&h&&h[n]&&(c=h[n],s=u)}!o&&c&&(o=c,a=s),o&&(r.splice(0,a,o),e=r.join("/"))}return e}function a(e,t){return function(){return f.apply(n,w.call(arguments,0).concat([e,t]))}}function c(e){return function(t){return o(t,e)}}function s(e){return function(t){g[e]=t}}function u(e){if(i(v,e)){var t=v[e];delete v[e],b[e]=!0,p.apply(n,t)}if(!i(g,e)&&!i(b,e))throw Error("No "+e);return g[e]}function l(e){var t,r=e?e.indexOf("!"):-1;return r>-1&&(t=e.substring(0,r),e=e.substring(r+1,e.length)),[t,e]}function d(e){return function(){return y&&y.config&&y.config[e]||{}}}var p,f,h,m,g={},v={},y={},b={},x=Object.prototype.hasOwnProperty,w=[].slice;h=function(e,t){var r,n=l(e),i=n[0];return e=n[1],i&&(i=o(i,t),r=u(i)),i?e=r&&r.normalize?r.normalize(e,c(t)):o(e,t):(e=o(e,t),n=l(e),i=n[0],e=n[1],i&&(r=u(i))),{f:i?i+"!"+e:e,n:e,pr:i,p:r}},m={require:function(e){return a(e)},exports:function(e){var t=g[e];return t!==void 0?t:g[e]={}},module:function(e){return{id:e,uri:"",exports:g[e],config:d(e)}}},p=function(e,t,r,o){var c,l,d,p,f,y,x=[];if(o=o||e,"function"==typeof r){for(t=!t.length&&r.length?["require","exports","module"]:t,f=0;t.length>f;f+=1)if(p=h(t[f],o),l=p.f,"require"===l)x[f]=m.require(e);else if("exports"===l)x[f]=m.exports(e),y=!0;else if("module"===l)c=x[f]=m.module(e);else if(i(g,l)||i(v,l)||i(b,l))x[f]=u(l);else{if(!p.p)throw Error(e+" missing "+l);p.p.load(p.n,a(o,!0),s(l),{}),x[f]=g[l]}d=r.apply(g[e],x),e&&(c&&c.exports!==n&&c.exports!==g[e]?g[e]=c.exports:d===n&&y||(g[e]=d))}else e&&(g[e]=r)},e=t=f=function(e,t,r,i,o){return"string"==typeof e?m[e]?m[e](t):u(h(e,t).f):(e.splice||(y=e,t.splice?(e=t,t=r,r=null):e=n),t=t||function(){},"function"==typeof r&&(r=i,i=o),i?p(n,e,t,r):setTimeout(function(){p(n,e,t,r)},4),f)},f.config=function(e){return y=e,y.deps&&f(y.deps,y.callback),f},r=function(e,t,r){t.splice||(r=t,t=[]),i(g,e)||i(v,e)||(v[e]=[e,t,r])},r.amd={jQuery:!0}})(),r("almond",function(){}),r("utils",[],function(){var e={};return e.extend=function(e){return[].slice.call(arguments,1).forEach(function(t){for(var r in t)void 0!==t[r]&&(e[r]=t[r])}),e},e.keys=function(e){var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push(r);return t},e.values=function(e){var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push(e[r]);return t},e.clone=function(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t},e.outerHTML=function(e){var t=document.createElement("div");t.appendChild(e.cloneNode(!0));var r=t.innerHTML;return t=null,r},e.removeBySelector=function(t,r){r=r||document;var n=r.querySelectorAll(t);return e.removeElements(n,r)},e.removeElements=function(e,t){t=t||document;for(var r=0,n=e.length;n>r;r++){var i=e[r];i.parentNode.removeChild(i)}return e},e}),r("capture",["utils"],function(e){function t(e){return e.nodeName.toLowerCase()}function r(e){return e.replace('"',"&quot;")}function n(r){return r?[].map.call(r.childNodes,function(r){var n=t(r);return"#comment"==n?"<!--"+r.textContent+"-->":"plaintext"==n?r.textContent:"script"==n&&(/mobify/.test(r.src)||/mobify/i.test(r.textContent))?"":r.outerHTML||r.nodeValue||e.outerHTML(r)}).join(""):""}window.Mobify&&!window.Mobify.capturing&&document.getElementsByTagName("plaintext").length&&(window.Mobify.capturing=!0);var i=/(<script[\s\S]*?>)/gi,o={style:' media="mobify-media"',script:' type="text/mobify-script"'},a=RegExp(e.values(o).join("|"),"g"),c={img:["src"],iframe:["src"],script:["src","type"],link:["href"],style:["media"]},s=RegExp("<("+e.keys(c).join("|")+")([\\s\\S]*?)>","gi"),u={},l={};for(var d in c)if(c.hasOwnProperty(d)){var p=c[d];p.forEach(function(e){l[e]=!0}),u[d]=RegExp("\\s+((?:"+p.join("|")+")\\s*=\\s*(?:('|\")[\\s\\S]+?\\2))","gi")}var f=document.createElement("div"),h={prefix:"x-",createDocument:!0},m=function(t,r){r=e.extend(h,r||{}),this.prefix=r.prefix,this.doc=t;var n=this.createDocumentFragmentsStrings();if(e.extend(this,n),r.createDocument){var i=this.createDocumentFragments();e.extend(this,i)}};return m.init=function(e,t,r){var t=t||document,n=function(e,t,r){var n=new m(t,r);e(n)};if(/complete|interactive|loaded/.test(t.readyState))n(e,t,r);else{var i=!1;t.addEventListener("readystatechange",function(){i||(i=!0,n(e,t,r))},!1)}},m.cloneAttributes=function(e,t){var r=e.match(/^<(\w+)([\s\S]*)$/i);return f.innerHTML="<div"+r[2],[].forEach.call(f.firstChild.attributes,function(e){try{t.setAttribute(e.nodeName,e.nodeValue)}catch(r){console.error("Error copying attributes while capturing: ",r)}}),t},m.disable=function(e,t){var r=function(){return function(e,r,n){return lowercaseTagName=r.toLowerCase(),result="<"+lowercaseTagName+(o[lowercaseTagName]||"")+n.replace(u[lowercaseTagName]," "+t+"$1")+">"}}(),n=/(<!--[\s\S]*?-->)|(?=<\/script)/i,a=e.split(n),c=a.map(function(e){var t;return e?/^<!--/.test(e)?e:(t=e.split(i),t[0]=t[0].replace(s,r),t[1]&&(t[1]=t[1].replace(s,r)),t):""});return[].concat.apply([],c).join("")},m.enable=function(t,r){var n=RegExp("\\s"+r+"("+e.keys(l).join("|")+")","gi");return t.replace(n," $1").replace(a,"")},m.openTag=function(e){if(!e)return"";e.length&&(e=e[0]);var n=[];return[].forEach.call(e.attributes,function(e){n.push(" ",e.name,'="',r(e.value),'"')}),"<"+t(e)+n.join("")+">"},m.prototype.getDoctype=function(){var e=this.doc.doctype||[].filter.call(this.doc.childNodes,function(e){return e.nodeType==Node.DOCUMENT_TYPE_NODE})[0];return e?"<!DOCTYPE HTML"+(e.publicId?' PUBLIC "'+e.publicId+'"':"")+(e.systemId?' "'+e.systemId+'"':"")+">":""},m.prototype.createDocumentFragmentsStrings=function(){var e=this.doc,t=e.getElementsByTagName("head")[0]||e.createElement("head"),r=e.getElementsByTagName("body")[0]||e.createElement("body"),i=e.getElementsByTagName("html")[0];captured={doctype:this.getDoctype(),htmlOpenTag:m.openTag(i),headOpenTag:m.openTag(t),bodyOpenTag:m.openTag(r),headContent:n(t),bodyContent:n(r)},captured.all=function(e){return this.doctype+this.htmlOpenTag+this.headOpenTag+(e||"")+this.headContent+this.bodyContent};var o=/<!--(?:[\s\S]*?)-->|(<\/head\s*>|<body[\s\S]*$)/gi,a=captured.bodyContent=captured.headContent+captured.bodyContent;captured.headContent="";for(var c;c=o.exec(a);c)if(c[1]){if("/"!=c[1][1]){captured.headContent=captured.head||a.slice(0,c.index),captured.bodyContent=c[0];var s=/^((?:[^>'"]*|'[^']*?'|"[^"]*?")*>)([\s\S]*)$/.exec(captured.bodyContent);s&&(captured.bodyOpenTag=s[1],captured.bodyContent=s[2]);break}captured.headContent=a.slice(0,c.index),captured.bodyContent=a.slice(c.index+c[1].length)}return captured},m.prototype.restore=function(){var e=this,t=e.doc,r=function(){t.removeEventListener("DOMContentLoaded",r,!1),setTimeout(function(){t.open(),t.write(e.all()),t.close()},15)};/complete|interactive|loaded/.test(t.readyState)?r():t.addEventListener("DOMContentLoaded",r,!1)},m.prototype.setElementContentFromString=function(e,t){for(this.doc,f.innerHTML=t;f.firstChild;e.appendChild(f.firstChild));},m.prototype.createDocumentFragments=function(){var e={},t=e.capturedDoc=document.implementation.createHTMLDocument(""),r=e.htmlEl=t.documentElement,n=e.headEl=r.firstChild,i=e.bodyEl=r.lastChild;m.cloneAttributes(this.htmlOpenTag,r),m.cloneAttributes(this.headOpenTag,n),m.cloneAttributes(this.bodyOpenTag,i),i.innerHTML=m.disable(this.bodyContent,this.prefix);var o=m.disable(this.headContent,this.prefix);try{n.innerHTML=o}catch(a){var c=n.getElementsByTagName("title")[0];c&&n.removeChild(c),this.setElementContentFromString(n,o)}return r.appendChild(n),r.appendChild(i),e},m.prototype.escapedHTMLString=function(){var t=this.capturedDoc,r=m.enable(t.documentElement.outerHTML||e.outerHTML(t.documentElement),this.prefix),n=this.doctype+r;return n},m.prototype.render=function(e){var t;t=e?m.enable(e):this.escapedHTMLString();var r=this.doc;window.Mobify&&(window.Mobify.capturing=!1),setTimeout(function(){r.open("text/html","replace"),r.write(t),r.close()})},m.prototype.getCapturedDoc=function(){return this.capturedDoc},m.prototype.insertMobifyScripts=function(){var e=this.capturedDoc,t=document.getElementById("mobify-js");t||(t=document.getElementsByTagName("script")[0],t.id="mobify-js",t.setAttribute("class","mobify"));var r=e.importNode(t,!1),n=this.headEl;n.insertBefore(r,n.firstChild);var i=document.getElementById("mobify-js-main");if(i){var o=e.importNode(i,!1);this.bodyEl.appendChild(o)}},m.prototype.renderCapturedDoc=function(){var e=this.capturedDoc;if(this.insertMobifyScripts(),window.Mobify&&window.Mobify.points){var t=this.bodyEl,r=e.createElement("div");r.id="mobify-point",r.setAttribute("style","display: none;"),r.innerHTML=window.Mobify.points[0],t.insertBefore(r,t.firstChild)}this.render()},m}),r("resizeImages",["utils"],function(e){function t(e){function t(t){var r=e||1;return t.width=Math.round(t.width*r),t.height=Math.round(t.height*r),t}var r=navigator.userAgent.match(/iphone|ipod|ipad/i),n=(navigator.userAgent.match(/android (\d)/i)||{})[1],i={width:window.outerWidth,height:window.outerHeight};if(!r)return n>3?t(i):i;var o=window.orientation%180;return o?(i.height=screen.width,i.width=screen.height):(i.width=screen.width,i.height=screen.height),t(i)}var r={},n=document.createElement("a"),i=/^https?/,o="//ir0.mobify.com",a=r.getImageURL=function(t,r){var n=e.clone(c);r&&e.extend(n,r);var i=[o];if(n.projectName){var a="project-"+n.projectName;i.push(a)}return r.cacheHours&&i.push("c"+r.cacheHours),n.format&&i.push(r.format+(r.quality||"")),n.maxWidth&&(i.push(r.maxWidth),n.maxHeight&&i.push(r.maxHeight)),i.push(t),i.join("/")};r.resize=function(r,o){var s=e.clone(c);o&&e.extend(s,o);var u=s.devicePixelRatio||window.devicePixelRatio,l=t(u),d=s.maxWidth||l.width,p=s.maxHeight||l.height;if(u&&s.maxWidth&&(d*=u,s.maxHeight&&(p*=u)),s.maxWidth=Math.ceil(d),s.maxHeight=Math.ceil(p),"[object String]"==Object.prototype.toString.call(r)){var f=r.replace(/(<img [^>]*src=['"])(.*?[^\\])(['"][^>]*\/>)/gi,function(e,t,r,n){return t+a(r,s)+n});return f}for(var h,m=0;r.length>m;m++){var g=r[m];if(h=g.getAttribute(s.attribute)){n.href=h;var v=n.href;i.test(v)&&g.setAttribute(s.attribute,a(v,s))}}return r};var c={projectName:"oss-"+location.hostname.replace(/[^\w]/g,"-"),attribute:"x-src"};return r}),r("jazzcat",["utils","capture"],function(e,t){var r={},n="Mobify-Combo-Cache-v1.0",i=function(e){r=e||{}},o=function(e,t){var n=r[e.split("#")[0]];return n&&t&&(n.lastUsed=Date.now()),n},a=function(e,t){r[e]=t},c=function(){var e,t=localStorage.getItem(n);if(t){try{t=JSON.parse(t)}catch(r){return}for(e in t)t.hasOwnProperty(e)&&!p(t[e])&&a(e,t[e])}},s=function(e){var t,i,o,a,c={},s=10,u=9007199254740991;for(i in r)r.hasOwnProperty(i)&&(c[i]=r[i]);(function l(){var r=function(){try{o=JSON.stringify(c)}catch(r){return e&&e(r)}try{localStorage.setItem(n,o)}catch(r){if(!--s)return e&&e(r);for(i in c)if(c.hasOwnProperty(i)){if(t=c[i],!t.lastUsed){a=i,u=0;break}u>=t.lastUsed&&(a=i,u=t.lastUsed)}return delete c[a],l()}e&&e()};setTimeout(r,0)})()},u=/^\s*(public|private|no-cache|no-store)\s*$/,l=/^\s*(max-age)\s*=\s*(\d+)\s*$/,d=function(e){var t,r={};return e.split(",").forEach(function(e){(t=u.exec(e))?r[t[1]]=!0:(t=l.exec(e))&&(r[t[1]]=parseInt(t[2]))}),r},p=function(e){var t,r=e.headers||{},n=r["cache-control"],i=Date.now();return n&&(t=Date.parse(r.date))&&(n=d(n),n["max-age"]&&!n["private"]&&!n["no-store"]&&!n["no-cache"])?i>t+1e3*n["max-age"]:(t=Date.parse(r.expires))?i>t:!0},f={get:o,set:a,load:c,save:s,reset:i,cache:r,utils:{isStale:p}},h=document.createElement("a"),m=function(){var e="modernizr";try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(t){return!1}},g=window.Jazzcat={httpCache:f,write:document.write};g.isIncompatibleBrowser=function(e){var t=/(firefox)[\/\s](\d+)|(opera[\s\S]*version[\/\s](11|12))/i.exec(e||navigator.userAgent);return t&&t[1]&&12>+t[2]||t&&t[3]||!m()||!window.JSON?!0:!1},g.combineScripts=function(t,r,n){if(!t.length||g.isIncompatibleBrowser())return t;var i,o,a=0;for(n=e.extend(v,n||{}),f.load();i=t[a++];)o=i.getAttribute(n.attribute),o&&(i.removeAttribute(n.attribute),h.href=o,o=h.href,i.innerHTML=!!f.get(o)+',"'+(i.parentNode===r.head?"head":"body")+'",'+n.execCallback+"('"+o+"');");return t};var v=g.combineScripts.defaults={selector:"script",attribute:"x-src",base:"//jazzcat.mobify.com",endpoint:"jsonp",execCallback:"Jazzcat.combo.exec",loadCallback:"Jazzcat.combo.load",projectName:""};g.combo={exec:function(e){var t,r=f.get(e,!0);r?(t='data-orig-src="'+e+'"',t+=">"+r.body.replace(/(<\/scr)(ipt\s*>)/gi,"$1\\$2")):t='src="'+e+'">',g.write.call(document,"<script "+t+"</script>")},load:function(e){var t,r=0,n=!1;if(e){for(;t=e[r++];)"ready"==t.status&&(n=!0,f.set(encodeURI(t.url),t));n&&f.save()}}};var y=function(){var e=document.createElement("script");return e.innerHTML="Jazzcat.httpCache.load();",e};g.getLoaderScripts=function(e,t,r){var n,i,o=[];return r||(n=y(),o.push(n)),e&&e.length&&(i=document.createElement("script"),i.src=g.getURL(e,t),o.push(i)),o},g.getURL=function(e,t){return v.base+(v.projectName?"/project-"+v.projectName:"")+"/"+v.endpoint+"/"+t+"/"+g.JSONURIencode(e.slice().sort())},g.JSONURIencode=function(e){return encodeURIComponent(JSON.stringify(e))};var b=function(e){return RegExp("<script[^>]*?>(true|false),['\"]"+e+"['\"],"+v.execCallback.replace(/\./g,"\\.")+"\\('([\\s\\S]*?)'\\);<\\/script","gi")};g.insertLoadersIntoHTMLString=function(t){var r=!1,n=function(t,n){for(var i,o,a=-1,c=[],s=b(n);i=s.exec(t);)-1==a&&(a=i.index),"false"===i[1]&&c.push(i[2]);if(-1==a)return t;o=g.getLoaderScripts(c,v.loadCallback,r),!r&&o.length>0&&(r=!0);var u=o.map(function(t){return e.outerHTML(t)}).join("");return t.substr(0,a)+u+t.substr(a)};return t=n(t,"head"),t=n(t,"body")};var x=t.enable;return t.enable=function(){var e=x.apply(t,arguments);return e=g.insertLoadersIntoHTMLString(e)},g}),r("unblockify",["utils","capture"],function(e,t){var r={};return r.moveScripts=function(t,r){e.removeElements(t,r);for(var n=0,i=t.length;i>n;n++){var o=t[n];r.body.appendChild(o)}},r.unblock=function(e){var n=t.prototype.insertMobifyScripts;t.prototype.insertMobifyScripts=function(){n.call(this);var t=this.capturedDoc;r.moveScripts(e,t)}},r}),t(["utils","capture","resizeImages","jazzcat","unblockify"],function(e,t,r,n,i){var o=window.Mobify=window.Mobify||{};return o.Utils=e,o.Capture=t,o.ResizeImages=r,o.Jazzcat=n,o.Unblockify=i,o.api="2.0",o},void 0,!0),r("mobify-library",function(){})})();